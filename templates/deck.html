
<html>
<head>
	<title>{{name}}</title>
	<link rel="stylesheet" href="/static/style.css">
	<link rel="icon" href="/static/favicon.png">
</head>
<body>

	<header>
		<a href="/" id="homebutton"> Home </a>
	</header>

	<br><br>

	<div id="content" style="margin-left: 10%;">

		<p>{{name}}</p>

		<div id="deck">



		</div>

		<script type="text/javascript">

			//CODE TO POPULATE DECK

			//TODO: ADD SECTIONS FOR CREATURE, ARTIFACT, ETC. AND POPULATE THOSE. JINJA NEEDS TO SEND THAT DATA TO THE CLIENT.

			var deckdiv = document.getElementById('deck');
			var jsObj = JSON.parse({{ deck|tojson|safe }});
			for(var i in jsObj){
				deckdiv.innerText += jsObj[i] + " " + i + "\n";
			}


			//send in a form with the deck's name to a flask page
			//so flask can retrive deck from DB and do something with it
			function formsubmit (action) {
				var submitForm = document.createElement("form");
					submitForm.setAttribute("action", action);
					submitForm.setAttribute("method", "post");
					submitForm.setAttribute("style", "display: none;");

				var input = document.createElement("input");
					input.setAttribute("type", "text");
					input.setAttribute("name", "name");
					input.setAttribute("value", "{{name}}");
					input.setAttribute("style", "display: none;");

				submitForm.appendChild(input);
				
				document.body.appendChild(submitForm);
				submitForm.submit();
			}


			function editdeck () {
				// redirect to edit deck page
				// needs deck name and session userid so python can fetch the deck
				formsubmit("/editdeck");
			}
			
			function deletedeck(){
				if (confirm("Are you sure you want to delete this deck?")){
					formsubmit("/deletedeck");
				}
			}

		</script>

		<button onclick="editdeck()"> Edit Deck </button>

		<button onclick="deletedeck()"> Delete Deck </button>

	</div>

	<div id="footer">
		<div id="footertext"> Questions? Found a Bug? Want to Contribute? Contact: Eddie Lazar -> eddie.lazar@yahoo.com</div>
	</div>


</body>
</html>