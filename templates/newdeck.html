<!doctype html>

<html>
<head>
	<title>Homepage</title>
	<link href="static/style.css" rel="stylesheet">
	<link rel="icon" href="static/favicon.png">
</head>
<body>


	<header>
		<a href="/settings" class="settingsbutton"> Account Settings </a>
		<a href="/logout" class="logoutbutton"> Log Out </a>
	</header>

	<br><br>

	<script type="text/javascript">

		function getCard () {
			
			const Http = new XMLHttpRequest();
			const url = "https://api.scryfall.com/cards/named?fuzzy="
			
			var cardName = document.getElementById('textfield').value;
			
			Http.open("GET", url+cardName);
			Http.send();
			
			Http.onreadystatechange=(e)=>{
				var response = Http.responseText;
				var obj = JSON.parse(response);
				imageURL = obj.image_uris.normal;
				document.getElementById('cardspot').setAttribute("src", imageURL);
				document.getElementById('cardspot').setAttribute("onclick", "addToList(\"" + cardName+ "\")");
			}
		}


		function addToList(cardName){
			document.getElementById("decklist").innerHTML += cardName;
		}


	</script>

	<p>Create your deck here by entering cards and adding them to the decklist.</p>	

	<div>
		<p>
			Enter card name: <input id="textfield">
			<button onclick="getCard()" style="position: inline;">Search</button>
		</p>	
	</div>

	<div>
		<img src="" id="cardspot" style="background-color: black; width: 20%; height: 40%; border-radius: 5%;">
	</div>


	<div id="decklist">
		Here's the list, y'all:

	</div>

	<!-- text box to type in cards for scryfall -->
	<!-- when cards appear, click to add to deck -->
	<!-- "save deck" button -->

	<!-- for later: deck analysis box with mana curve, colors, land base, price, etc -->

	<!-- for later: card recommender based on mana curve fit, colors, mechanics?? -->
	<footer>
		<div id="footertext"> Questions? Found a Bug? Want to Contribute? Contact: Eddie Lazar -> eddie.lazar@yahoo.com</div>
	</footer>


</body>
</html>